%! TEX root = ./main.tex

\section{Correctness}
\begin{itemize}
    \item Properties of a correct program:
        \begin{itemize}
            \ides{Termination:} Does not count for all, but most programs
            \ides{Functional Behaviour:} Function should return ``correct'' value
        \end{itemize}
    \item Must be proven
\end{itemize}

\subsection{Termination}
\begin{itemize}
    \item If $f$ is composed of functions $g_1, \dots , g_k$ and $g_i \neq f$ and each $g_i$ terminates then $f$ terminates
    \item Recursive function terminates if the arguments are smaller along a well-founded order on the function's domain
        \begin{itemize}
            \item Is a sufficient condition
            \ides{Well-Founded:} is the order $>$ on set $S$ iff there is no infinite decreasing sequence in $S$
                \begin{itemize}
                    \ides{Relation composition} of two binary relation $R_1, R_2$ on set $S$ is $R_2 \circ R_1 \equiv \{(a, c) \in S \times S \mid \exists b \in S. a R_1 b \wedge b R_2 c\}$
                        \begin{itemize}
                            \item For $R \subset S \times S$:
                                \begin{itemize}
                                    \item $R^1 \equiv R$
                                    \item $R^{n + 1} \equiv R \circ R^n, n \ge 1$
                                    \item $R^+ \equiv \bigcup_{n \ge 1} R^n$
                                \end{itemize}
                        \end{itemize}
                    \item For $R \subseteq S \times S,\ s_0, s_i \in S$ and $i \ge 1$. Then $s_0 R^i s_i$ iff $\exists s_1, \dots s_{i-1} \in S$ such that $s_0 R s_1 R \dots R s_{i-1} R s_i$
                    \item If $>$ is well-founded order on $S$ then so is $>^+$.
                \end{itemize}
        \end{itemize}
\end{itemize}

\subsection{Behaviour}
\begin{itemize}
    \ides{Equality Reasoning}
        \begin{itemize}
            \ides{Goal:} Show function return is equal to some value
            \ides{Idea:} Function are equations
            \item Apply equational reasoning
            \item Proof using FOL with equality
        \end{itemize}
    \ides{Reasoning by Cases}
        \begin{itemize}
            \item For predicate functions
            \item Often use
                \begin{itemize}
                    \ides{Excluded Middle (TND):} For all prepositions $P, P \lor \neg P$
                    \ides{Case Split ($\lor$-E):} Prove $P = Q \lor R$ by proving $Q \implies P$ and $R \implies P$
                \end{itemize}
        \end{itemize}
    \ides{Induction}
        \begin{itemize}
            \item Dual of recursion
            \item Prove $P(n) \forall n \in Nat.$
                \begin{itemize}
                    \ides{Base Case:} Proof $P[n/0]$
                    \ides{Step Case:} Proof $P[n/ m + 1]$ by assuming $P[n / m]$ for some arbitrary but fixed $m$
                    \begin{itemize}
                        \item $m$ must not be free in $P$
                        \item Can also take $P[n/n]$ to remove side condition
                    \end{itemize}
                \end{itemize}
            \item Natural Deduction
                \begin{itemize}
                    \item
                        \[
                        \Inf[\text{NAT-IND}][m \text{ not free in } P]{\Gamma \vdash P[n/0]}{\Gamma \vdash \forall m \in \text{Nat}. P[n/m] \to P[n/m + 1]}{\Gamma \vdash \forall n \in \text{NAT}. P}
                        \]
                \end{itemize}
        \end{itemize}
    \ides{Well-Founded Induction/Notherian Induction (not exam relevant)}
        \begin{itemize}
            \ides{Well-Founded Step:} Prove $P[n/m]$ by assuming $P[n/l] \forall l < m$
                \begin{itemize}
                    \item $m$ and $l$ not free in $P$
                \end{itemize}
            \item Stronger than normal induction
        \end{itemize}
\end{itemize}
